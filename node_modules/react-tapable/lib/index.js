var n=require("react");function t(){return(t=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}).apply(this,arguments)}function r(n,t){var r,o;n.prototype=Object.create(t.prototype),n.prototype.constructor=n,r=n,o=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n})(r,o)}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=n[r];return o}function e(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(r)return(r=r.call(n)).next.bind(r);if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return o(n,void 0);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(n,void 0):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0;return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i,a,c=function(){function n(){}var t=n.prototype;return t.content=function(n){throw new Error("CodeFactory must be abstract")},t.create=function(n){var t;if(this.init(n),this.options&&this._args){switch(this.options.type){case"sync":t=new Function(this.args({}),'"use strict";\n'+this.header()+this.content({onError:function(n){return"throw "+n+";\n"},onResult:function(n){return"return "+n+";\n"},resultReturns:!0,onDone:function(){return""},rethrowIfPossible:!0}));break;case"async":t=new Function(this.args({after:"_callback"}),'"use strict";\n'+this.header()+this.content({onError:function(n){return"_callback("+n+");\n"},onResult:function(n){return"_callback(null, "+n+");\n"},onDone:function(){return"_callback();\n"}}));break;case"promise":var r=!1,o=this.content({onError:function(n){return r=!0,"_error("+n+");\n"},onResult:function(n){return"_resolve("+n+");\n"},onDone:function(){return"_resolve();\n"}}),e="";e+='"use strict";\n',e+=this.header(),e+="return new Promise((function(_resolve, _reject) {\n",r&&(e+="var _sync = true;\n",e+="function _error(_err) {\n",e+="if(_sync)\n",e+="_resolve(Promise.resolve().then((function() { throw _err; })));\n",e+="else\n",e+="_reject(_err);\n",e+="};\n"),e+=o,r&&(e+="_sync = false;\n"),e+="}));\n",t=new Function(this.args({}),e)}return this.deinit(),t}},t.setup=function(n,t){t.taps.forEach(function(t){n.push(t.fn)})},t.init=function(n){this.options=n,this._args=n.args.slice()},t.deinit=function(){this.options=void 0,this._args=void 0},t.header=function(){var n="";return this.needContext()?n+="var _context = {};\n":n+="var _context;\n",n+"var fns = this.fns;\n"},t.needContext=function(){if(this.options)for(var n,t=e(this.options.taps);!(n=t()).done;)if(n.value.context)return!0;return!1},t.callTap=function(n,t){var r=t.onError,o=t.onResult,e=t.onDone,s=t.rethrowIfPossible,i="";if(!this.options)return i;i+="var _fn"+n+" = "+this.getTapFn(n)+";\n";var a=this.options.taps[n];switch(a.type){case"sync":s||(i+="var _hasError"+n+" = false;\n",i+="try {\n"),i+=o?"var _result"+n+" = _fn"+n+"("+this.args({before:a.context?"_context":void 0})+");\n":"_fn"+n+"("+this.args({before:a.context?"_context":void 0})+");\n",s||(i+="} catch(_err) {\n",i+="_hasError"+n+" = true;\n",i+=r("_err"),i+="}\n",i+="if(!_hasError"+n+") {\n"),o&&(i+=o("_result"+n)),e&&(i+=e()),s||(i+="}\n");break;case"async":var c="";c+=o?"(function(_err"+n+", _result"+n+") {\n":"(function(_err"+n+") {\n",c+="if(_err"+n+") {\n",c+=r("_err"+n),c+="} else {\n",o&&(c+=o("_result"+n)),e&&(c+=e()),c+="}\n",i+="_fn"+n+"("+this.args({before:a.context?"_context":void 0,after:c+="})"})+");\n";break;case"promise":i+="var _hasResult"+n+" = false;\n",i+="var _promise"+n+" = _fn"+n+"("+this.args({before:a.context?"_context":void 0})+");\n",i+="if (!_promise"+n+" || !_promise"+n+".then)\n",i+="  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise"+n+" + ')');\n",i+="_promise"+n+".then((function(_result"+n+") {\n",i+="_hasResult"+n+" = true;\n",o&&(i+=o("_result"+n)),e&&(i+=e()),i+="}), function(_err"+n+") {\n",i+="if(_hasResult"+n+") throw _err"+n+";\n",i+=r("_err"+n),i+="});\n"}return i},t.callTapsSeries=function(n){var t=this,r=n.onError,o=n.onResult,e=n.resultReturns,s=n.onDone,i=n.doneReturns,a=n.rethrowIfPossible;if(!this.options||0===this.options.taps.length)return s();for(var c=this.options.taps.findIndex(function(n){return"sync"!==n.type}),u=e||i,l="",p=s,f=0,h=function(n){var e=n;p!==s&&("sync"!==t.options.taps[e].type||f++>20)&&(f=0,l+="function _next"+e+"() {\n",l+=p(),l+="}\n",p=function(){return(u?"return ":"")+"_next"+e+"();\n"});var i=p,h=function(n){return n?"":s()},y=t.callTap(e,{onError:function(n){return r(e,n,i,h)},onResult:o&&function(n){return o(e,n,i,h)},onDone:!o&&i,rethrowIfPossible:a&&(c<0||e<c)});p=function(){return y}},y=this.options.taps.length-1;y>=0;y--)h(y);return l+=p()},t.callTapsLooping=function(n){var t=n.onError,r=n.onDone,o=n.rethrowIfPossible;if(!this.options||0===this.options.taps.length)return r();var e=this.options.taps.every(function(n){return"sync"===n.type}),s="";return e||(s+="var _looper = (function() {\n",s+="var _loopAsync = false;\n"),s+="var _loop;\n",s+="do {\n",s+="_loop = false;\n",s+=this.callTapsSeries({onError:t,onResult:function(n,t,r,o){var s="";return s+="if("+t+" !== undefined) {\n",s+="_loop = true;\n",e||(s+="if(_loopAsync) _looper();\n"),s+=o(!0),s+="} else {\n",(s+=r())+"}\n"},onDone:r&&function(){var n="";return n+="if(!_loop) {\n",(n+=r())+"}\n"},rethrowIfPossible:o&&e}),s+="} while(_loop);\n",e||(s+="_loopAsync = true;\n",s+="});\n",s+="_looper();\n"),s},t.callTapsParallel=function(n){var t=this,r=n.onError,o=n.onResult,e=n.onDone,s=n.rethrowIfPossible,i=n.onTap,a=void 0===i?function(n,t){return t()}:i;if(!this.options)return"";if(this.options.taps.length<=1)return this.callTapsSeries({onError:r,onResult:o,onDone:e,rethrowIfPossible:s});var c="";c+="do {\n",c+="var _counter = "+this.options.taps.length+";\n",e&&(c+="var _done = (function() {\n",c+=e(),c+="});\n");for(var u=function(n){var i=function(){return e?"if(--_counter === 0) _done();\n":"--_counter;"},u=function(n){return n||!e?"_counter = 0;\n":"_counter = 0;\n_done();\n"};c+="if(_counter <= 0) break;\n",c+=a(n,function(){return t.callTap(n,{onError:function(t){var o="";return o+="if(_counter > 0) {\n",(o+=r(n,t,i,u))+"}\n"},onResult:o&&function(t){var r="";return r+="if(_counter > 0) {\n",(r+=o(n,t,i,u))+"}\n"},onDone:!o&&function(){return i()},rethrowIfPossible:s})},i,u)},l=0;l<this.options.taps.length;l++)u(l);return c+="} while(false);\n"},t.args=function(n){var t=n.before,r=n.after,o=this._args||[];return t&&(o=[t].concat(o)),r&&(o=o.concat(r)),0===o.length?"":o.join(", ")},t.getTapFn=function(n){return"fns["+n+"]"},t.getTap=function(n){return"_taps["+n+"]"},n}(),u=(s=function(){},i="Hook.context is deprecated and will be removed",a=!0,function(){return a&&(console.warn("DeprecationWarning: "+i),a=!1),s.apply(this,[].slice.call(arguments))}),l=function(){function n(n,t){this._args=n||[],this.name=t||"",this.taps=[],this.once=!1,this._call=function(){this.call=this._createCall("sync");var n=this.call.apply(this,[].slice.call(arguments));return this.afterInvoke(),n},this.call=this._call,this._callAsync=function(){this.callAsync=this._createCall("async");var n=this.callAsync.apply(this,[].slice.call(arguments));return this.afterInvoke(),n},this.callAsync=this._callAsync,this._promise=function(){this.promise=this._createCall("promise");var n=this.promise.apply(this,[].slice.call(arguments));return this.afterInvoke(),n},this.promise=this._promise}var r=n.prototype;return r.afterInvoke=function(){this.once&&(this.taps=this.taps.filter(function(n){return!n.once}),this._resetCompilation(),this.once=!1)},r.compile=function(n){throw new Error("Abstract: should be overridden")},r.isUsed=function(){return this.taps.length>0},r.withOptions=function(n){var t=this,r=function(t){return Object.assign({},n,"string"==typeof t?{name:t}:t)};return{name:this.name,tap:function(n,o){return t.tap(r(n),o)},tapAsync:function(n,o){return t.tapAsync(r(n),o)},tapPromise:function(n,o){return t.tapPromise(r(n),o)},isUsed:function(){return t.isUsed()},withOptions:function(n){return t.withOptions(r(n))}}},r._createCall=function(n){return this.compile({taps:this.taps,args:this._args,type:n})},r._resetCompilation=function(){this.call=this._call,this.callAsync=this._callAsync,this.promise=this._promise},r._insert=function(n){this._resetCompilation(),!this.once&&n.once&&(this.once=!0),this.taps.push(n)},r._tap=function(n,r,o){var e={name:"",context:!1,once:!1};if("string"==typeof r)e.name=r.trim();else{if("object"!=typeof r||null===r)throw new Error("Invalid tap options");if("string"!=typeof r.name||""===r.name)throw new Error("Missing name for tap");e.name=r.name,r.context&&(u(),e.context=r.context),e.once=Boolean(r.once)}this._insert(t({type:n,fn:o},e))},r.tap=function(n,t){this._tap("sync",n,t)},r.tapAsync=function(n,t){this._tap("async",n,t)},r.tapPromise=function(n,t){this._tap("promise",n,t)},r._isRegistered=function(n,t){return-1!==this._tapHookIndexOf(n,t)},r._deleteTapHook=function(n,t){this._resetCompilation(),this.taps=this.taps.filter(function(r){return!(r.type===n&&r.fn===t)})},r._replaceTapHook=function(n,t,r){this._resetCompilation();for(var o,s=!1,i=e(this.taps);!(o=i()).done;){var a=o.value;a.type===n&&a.fn===t&&(s=!0,a.fn=r)}return s},r._tapHookIndexOf=function(n,t){for(var r=-1,o=0;o<this.taps.length;o++)if(this.taps[o].fn===t&&this.taps[o].type===n){r=o;break}return r},n}(),p=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError,r=n.onResult,o=n.onDone,e="";return this.options&&r?(e+="var _results = new Array("+this.options.taps.length+");\n",e+="var _checkDone = function() {\n",e+="for(var i = 0; i < _results.length; i++) {\n",e+="var item = _results[i];\n",e+="if(item === undefined) return false;\n",e+="if(item.result !== undefined) {\n",e+=r("item.result"),e+="return true;\n",e+="}\n",e+="if(item.error) {\n",e+=t("item.error"),e+="return true;\n",e+="}\n",e+="}\n",e+="return false;\n",e+="}\n",e+=this.callTapsParallel({onError:function(n,t,r,o){var e="";return e+="if("+n+" < _results.length && ((_results.length = "+(n+1)+"), (_results["+n+"] = { error: "+t+" }), _checkDone())) {\n",e+=o(!0),e+="} else {\n",(e+=r())+"}\n"},onResult:function(n,t,r,o){var e="";return e+="if("+n+" < _results.length && ("+t+" !== undefined && (_results.length = "+(n+1)+"), (_results["+n+"] = { result: "+t+" }), _checkDone())) {\n",e+=o(!0),e+="} else {\n",(e+=r())+"}\n"},onTap:function(n,t,r,o){var e="";return n>0&&(e+="if("+n+" >= _results.length) {\n",e+=r(),e+="} else {\n"),e+=t(),n>0&&(e+="}\n"),e},onDone:o})):e},t}(c)),f=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],p.setup(this.fns,n),p.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncParallelBailHook")},o._call=function(){throw new Error("call is not supported on a AsyncParallelBailHook")},o}return r(t,n),t}(l),h=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError;return this.callTapsParallel({onError:function(n,r,o,e){return t(r)+e(!0)},onDone:n.onDone})},t}(c)),y=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],h.setup(this.fns,n),h.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncParallelHook")},o._call=function(){throw new Error("call is not supported on a AsyncParallelHook")},o}return r(t,n),t}(l),_=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError,r=n.onResult;return this.callTapsSeries({onError:function(n,r,o,e){return t(r)+e(!0)},onResult:function(n,t,o){return"if("+t+" !== undefined) {\n"+r(t)+"\n} else {\n"+o()+"}\n"},resultReturns:n.resultReturns,onDone:n.onDone})},t}(c)),v=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],_.setup(this.fns,n),_.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncSeriesBailHook")},o._call=function(){throw new Error("call is not supported on a AsyncSeriesBailHook")},o}return r(t,n),t}(l),m=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError;return this.callTapsSeries({onError:function(n,r,o,e){return t(r)+e(!0)},onDone:n.onDone})},t}(c)),d=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],m.setup(this.fns,n),m.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncSeriesHook")},o._call=function(){throw new Error("call is not supported on a AsyncSeriesHook")},o}return r(t,n),t}(l),w=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError;return this.callTapsLooping({onError:function(n,r,o,e){return t(r)+e(!0)},onDone:n.onDone})},t}(c)),k=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],w.setup(this.fns,n),w.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncSeriesLoopHook")},o._call=function(){throw new Error("call is not supported on a AsyncSeriesLoopHook")},o}return r(t,n),t}(l),g=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=this,r=n.onError,o=n.onResult;return this.callTapsSeries({onError:function(n,t,o,e){return r(t)+e(!0)},onResult:function(n,r,o){var e="";if(e+="if("+r+" !== undefined) {\n",e+="if (!("+r+" instanceof Array)){ \n",e+=r+" = ["+r+"]\n",e+="}\n",t._args)for(var s=0;s<t._args.length;s++)e+=["if ("+r+"["+s+"]) {",t._args[s]+" = "+r+"["+s+"];","}\n"].join("\n");return(e+="}\n")+o()},onDone:function(){return o("["+t._args.toString()+"]")}})},t}(c)),b=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],g.setup(this.fns,n),g.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncSeriesWaterfallAllHook")},o._call=function(){throw new Error("call is not supported on a AsyncSeriesWaterfallAllHook")},o}return r(t,n),t}(l),E=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=this,r=n.onError,o=n.onResult;return this.callTapsSeries({onError:function(n,t,o,e){return r(t)+e(!0)},onResult:function(n,r,o){var e="";return e+="if("+r+" !== undefined) {\n",e+=t._args[0]+" = "+r+";\n",(e+="}\n")+o()},onDone:function(){return o(t._args[0])}})},t}(c)),A=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],E.setup(this.fns,n),E.create(n)},o.call=function(){throw new Error("call is not supported on a AsyncSeriesWaterfallHook")},o._call=function(){throw new Error("call is not supported on a AsyncSeriesWaterfallHook")},o}return r(t,n),t}(l),H=new Map,P=0;function x(){return++P}var S={tap:"sync",tapAsync:"async",tapPromise:"promise"};function T(n){throw new Error("react-tapable: "+n)}var R=function(){function n(n,t){this.name=n,this.hooks=t,this.count=Object.keys(t).reduce(function(n,t){return n[t]=0,n},{})}var t=n.prototype;return t.call=function(n){var t=this.getHook(n);if(!t)throw new Error("hook doesn't exist in controller,it' s name : "+n+" ");return t.call.apply(t,[].slice.call(arguments,1))},t.callAsync=function(n){var t=this.getHook(n);if(!t)throw new Error("hook doesn't exist in controller,it' s name : "+n+" ");return t.callAsync.apply(t,[].slice.call(arguments,1))},t.promise=function(n){var t=this.getHook(n);if(!t)throw new Error("hook doesn't exist in controller,it' s name : "+n+" ");return t.promise.apply(t,[].slice.call(arguments,1))},t.getHook=function(n){if(this.hooks.hasOwnProperty(n))return this.hooks[n]},t.getHooksNameMap=function(){if(!this.hooks)return{};var n={};return Object.keys(this.hooks).reduce(function(n,t){return n[t]=t,n},n),n},t.getHookTapName=function(n){return this.name+":"+n},t.tapHook=function(n,t){var r=this.getHook(n.hook);r||T("tapHook Cannot find hook by key "+n.hook),"tap"!==n.mode&&"tapAsync"!==n.mode&&"tapPromise"!==n.mode&&T("tapHook rawOptions' mode must be tap/tapAsync/tapPromise, but get "+n.mode),r[n.mode]({context:Boolean(n.context),name:this.getHookTapName(n.hook),once:Boolean(n.once)},t)},t.removeTapHook=function(n,t,r){var o=this.getHook(n);o||T("removeTapHook Cannot find hook by key "+n),"tap"!==t&&"tapAsync"!==t&&"tapPromise"!==t&&T("removeTapHook mode must be tap/tapAsync/tapPromise, but get "+t),o._deleteTapHook(S[t],r)},n}();function D(t,r){var o=x();H.has(t+o+"")&&console.warn("react-tapable: controller: "+t+" has been registed, and it will be covered");var e=new R(t,r);return H.set(t+o,e),{HooksNameMap:e.getHooksNameMap(),call:function(n){return e.call.apply(e,[n].concat([].slice.call(arguments,1)))},callAsync:function(n){return e.callAsync.apply(e,[n].concat([].slice.call(arguments,1)))},promise:function(n){return e.promise.apply(e,[n].concat([].slice.call(arguments,1)))},tapHook:function(n,t){return e.tapHook(n,t)},removeTapHook:function(n,t,r){return e.removeTapHook(n,t,r)},useTapable:function(r,e,s){return function(t,r,o,e){var s=function(n,t,r,o){var e={},s=H.get(n);if("string"!=typeof t.mode?T("useTapable rawOptions' mode must be string"):"tap"!==t.mode&&"tapAsync"!==t.mode&&"tapPromise"!==t.mode?T("useTapable rawOptions' mode must be tap/tapAsync/tapPromise, but get "+t.mode):e.mode=t.mode,"string"!=typeof t.hook)T("useTapable rawOptions' hook must be string, but get "+typeof t.hook);else{var i=s.getHook(t.hook);i||T("useTapable please check to see if the controller has this hook "+t.hook),e.hook=i}return e.type=S[e.mode],r instanceof Function?(e.hook._isRegistered(e.type,r)&&T("useTapable rawOptions' fn has been registered"),e.fn=r):T("useTapable rawOptions' fn must be function"),e.useAliasArr=o||[],e.context=Boolean(t.context),e.name=s.getHookTapName(t.hook),e.once=Boolean(t.once),e}(t,r,o,e),i=s.hook,a=s.context,c=s.fn,u=s.name,l=s.type,p=s.mode,f=s.once;n.useEffect(function(){return i[p]({context:a,name:u,once:f},c),function(){i._deleteTapHook(l,c)}},[].concat(s.useAliasArr))}(t+o,r,e,s)}}}var I=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError,r=n.onResult;return this.callTapsSeries({onError:function(n,r){return t(r)},onResult:function(n,t,o){return"if("+t+" !== undefined) {\n"+r(t)+";\n} else {\n"+o()+"}\n"},resultReturns:n.resultReturns,onDone:n.onDone,rethrowIfPossible:n.rethrowIfPossible})},t}(c)),O=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],I.setup(this.fns,n),I.create(n)},o}r(t,n);var o=t.prototype;return o.tapAsync=function(){throw new Error("tapAsync is not supported on a SyncHook")},o.tapPromise=function(){throw new Error("tapPromise is not supported on a SyncHook")},t}(l),j=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError;return this.callTapsSeries({onError:function(n,r){return t(r)},onDone:n.onDone,rethrowIfPossible:n.rethrowIfPossible})},t}(c)),C=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],j.setup(this.fns,n),j.create(n)},o}r(t,n);var o=t.prototype;return o.tapAsync=function(){throw new Error("tapAsync is not supported on a SyncHook")},o.tapPromise=function(){throw new Error("tapPromise is not supported on a SyncHook")},t}(l),B=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=n.onError;return this.callTapsLooping({onError:function(n,r){return t(r)},onDone:n.onDone,rethrowIfPossible:n.rethrowIfPossible})},t}(c)),W=function(n){function t(t,r){var o;return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],B.setup(this.fns,n),B.create(n)},o}r(t,n);var o=t.prototype;return o.tapAsync=function(){throw new Error("tapAsync is not supported on a SyncLoopHook")},o.tapPromise=function(){throw new Error("tapPromise is not supported on a SyncLoopHook")},t}(l),L=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=this,r=n.onError,o=n.onResult;return this.callTapsSeries({onError:function(n,t){return r(t)},onResult:function(n,r,o){var e="";if(e+="if("+r+" !== undefined) {\n",e+="if (!("+r+" instanceof Array)){ \n",e+=r+" = ["+r+"]\n",e+="}\n",t._args)for(var s=0;s<t._args.length;s++)e+=["if ("+r+"["+s+"]) {",t._args[s]+" = "+r+"["+s+"];","}\n"].join("\n");return(e+="}\n")+o()},onDone:function(){return o("["+t._args.toString()+"]")},doneReturns:n.resultReturns,rethrowIfPossible:n.rethrowIfPossible})},t}(c)),F=function(n){function t(t,r){var o;if(t.length<1)throw new Error("WaterfallAll hooks must have at least one argument");return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],L.setup(this.fns,n),L.create(n)},o}r(t,n);var o=t.prototype;return o.tapAsync=function(){throw new Error("tapAsync is not supported on a SyncHook")},o.tapPromise=function(){throw new Error("tapPromise is not supported on a SyncHook")},t}(l),M=new(function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.content=function(n){var t=this,r=n.onError,o=n.onResult;return this.callTapsSeries({onError:function(n,t){return r(t)},onResult:function(n,r,o){var e="";return e+="if("+r+" !== undefined) {\n",e+=t._args[0]+" = "+r+";\n",(e+="}\n")+o()},onDone:function(){return o(t._args[0])},doneReturns:n.resultReturns,rethrowIfPossible:n.rethrowIfPossible})},t}(c)),N=function(n){function t(t,r){var o;if(t.length<1)throw new Error("Waterfall hooks must have at least one argument");return(o=n.call(this,t,r)||this).compile=function(n){return this.fns=[],M.setup(this.fns,n),M.create(n)},o}r(t,n);var o=t.prototype;return o.tapAsync=function(){throw new Error("tapAsync is not supported on a SyncHook")},o.tapPromise=function(){throw new Error("tapPromise is not supported on a SyncHook")},t}(l);exports.AsyncParallelBailHook=f,exports.AsyncParallelHook=y,exports.AsyncSeriesBailHook=v,exports.AsyncSeriesHook=d,exports.AsyncSeriesLoopHook=k,exports.AsyncSeriesWaterfallAllHook=b,exports.AsyncSeriesWaterfallHook=A,exports.Controller=R,exports.SyncBailHook=O,exports.SyncHook=C,exports.SyncLoopHook=W,exports.SyncWaterfallAllHook=F,exports.SyncWaterfallHook=N,exports.createTapableController=D,exports.default=D;
